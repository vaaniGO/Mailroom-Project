<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ashoka University Mailroom</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/css/global-styles.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">

</head>
<body>

    <%-include("partials/navbar.ejs", { activePage: "package-out" })-%>

    
        <!-- Login Box -->
        <div class="login-container">
            <div class="login-box">
                <h3>Scan QR Code</h3>
    
                <div class="input-group mb-3">
                    <input autocomplete="off" id="userQR" autofocus type="text" class="form-control" placeholder="User">
                    <span onclick="clearStudent()"
                        style="color:#C4122F; border-top-right-radius: 8px; border-bottom-right-radius: 8px;"
                        class="input-group-text" id="basic-addon2">Clear</span>
                </div>
    
                <!-- <input type="password" class="form-control mb-3" placeholder="Password"> -->
    
                <!-- <div class="d-flex justify-content-between">

                <button onclick="getStudentPackages()" class="btn btn-danger next-btn next-btn-next">NEXT</button>
                    
                </div> -->
                <div class="d-flex justify-content-between">

                    <button id="find-by-tracking-id-btn" class="validate btn btn-danger search-by-id-btn next-btn">TRACKING ID</button>
                    <button id="find-for-friend" class="validate btn btn-danger search-by-id-btn next-btn">FRIEND</button>
                    <button id="get-my-packages-btn" class="validate btn btn-danger next-btn next-btn-next">MY PACKAGES</button>
                        
                    </div>
            </div>
        </div>
        <script>

function clearStudent() {
                document.getElementById('userQR').value = "";
                // document.getElementById('hiddenSelectedStudent').value = "";
                // document.getElementById("student-next").disabled = true;
                // document.getElementById("no-student").disabled = false;
                document.getElementById('userQR').focus();
                document.getElementById('find-by-tracking-id-btn').disabled=true;
                document.getElementById('find-for-friend').disabled=true;
                document.getElementById('get-my-packages-btn').disabled=true;
            }
            document.getElementById('get-my-packages-btn').addEventListener('click', () => {
                      window.location.href = '/package-out/user/'+encodeURIComponent(document.getElementById("userQR").value);
                  });
            document.getElementById('find-for-friend').addEventListener('click', () => {
                      window.location.href = '/package-out/friend/'+encodeURIComponent(document.getElementById("userQR").value);
                  });
              document.getElementById('find-by-tracking-id-btn').addEventListener('click', () => {
                      window.location.href = '/package-out/tracking-id/'+encodeURIComponent(document.getElementById("userQR").value);
                  });
          </script>

        <script>
            function getStudentPackages(){
                qrstring = document.getElementById("userQR").value;
                window.location.href= '/package-out/user/'+qrstring;
            }
            document.addEventListener('DOMContentLoaded', () => {
    const inputField = document.getElementById("userQR");
    const validateButtons = document.querySelectorAll('.validate');

    // Disable all validate buttons initially
    validateButtons.forEach(button => button.disabled = true);

    inputField.addEventListener('input', () => {
        const isEmpty = inputField.value.trim() === '';
        validateButtons.forEach(button => button.disabled = isEmpty);
    });
});

        </script>
        

</body>
</html>